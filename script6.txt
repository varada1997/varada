SET SERVEROUTPUT ON
CREATE OR REPLACE PROCEDURE TAX(P_DEPT NUMBER)
IS
CURSOR EMP_CURSOR IS
SELECT E.EMP_ID,E.EMP_FNAME,E.EMP_SALARY,T.TAXRATE,E.EMP_SALARY*(T.TAXRATE/100) "TAX" FROM EMPLOY E ,TAXRATE T 
WHERE E.DEPT_ID=P_DEPT AND E.EMP_SALARY BETWEEN T.LOW_SAL AND T.HIGH_SAL;
EMP_REC EMP_CURSOR%ROWTYPE;
BEGIN
OPEN EMP_CURSOR;
LOOP
FETCH EMP_CURSOR INTO EMP_REC;
EXIT WHEN EMP_CURSOR%NOTFOUND;
DBMS_OUTPUT.PUT_LINE(EMP_REC.EMP_ID||'  '||EMP_REC.EMP_FNAME||'  '||EMP_REC.EMP_SALARY||'  '||EMP_REC.TAXRATE||' '||EMP_REC.TAX);
END LOOP;
END;
/